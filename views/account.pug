mixin navItem(link, text, icon, active)
    li(class=`${active ? 'side-nav--active' : ''}`)
        a(href=`${link}`)
            svg 
                use(xlink:href=`/img/icons.svg#icon-${icon}`)
            | #{text}

doctype html
html(lang='vi')
  head
    meta(charset='UTF-8')
    meta(name='viewport', content='width=device-width, initial-scale=1.0')
    link(rel='preconnect', href='https://fonts.googleapis.com')
    link(rel='preconnect', href='https://fonts.gstatic.com', crossorigin='')
    link(href='https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap', rel='stylesheet')
    link(rel='stylesheet', href='css/icon-font.css')
    link(rel='stylesheet', href='css/home.css')
    link(rel='stylesheet', href='css/footer.css')
    link(rel='shortcut icon', type='image/png', href='img/favicon.png')
    title Thông tin cá nhân
  body
    header.header
      nav.nav.nav--tours
        a.nav__el(href='overview') Tất cả chuyến đi
        
      .header__logo
        img(src='img/logo-white.png', alt='Natours logo')
      nav.nav.nav--user
        a.nav__el.nav__el--logout Đăng xuất
        a.nav__el(href='/account')
          img.nav__user-img(src=`/img/users/${user.photo}`, alt='User photo')
          span=user.name.split(' ')[0]


    main
        .main
            .user-view
                nav.user-view__menu
                    ul.side-nav
                        +navItem('#', 'Cài đặt', 'settings', true)
                        +navItem('/my-tour', 'Chuyến đi của tôi', 'briefcase')
                        +navItem('#', 'Hóa đơn ', 'credit-card')
                   
                .user-view__content
                    .user-view__form-container
                        h2.heading-secondary.ma-bt-md Cài đặt tài khoản của bạn
                        form.form.form-user-data
                            .form__group
                                label.form__label(for='name') Họ và tên
                                input#name.form__input(type='text', value=`${user.name}`, required, autocomplete='off', name='name')
                            .form__group.ma-bt-md
                                label.form__label(for='email') Email
                                input#email.form__input(type='email', value=`${user.email}`, required, autocomplete='off', name='email')
                            .form__group.form__photo-upload
                                img.form__user-photo(src=`/img/users/${user.photo}`, alt='User photo')
                                input.form__upload(type='file', accept='image/*', id='photo', name='photo')
                                label.form__label(for='photo') Chọn ảnh mới
                            .form__group.right
                                button.btn.btn--small.btn--green Lưu cài đặt
                        .line &nbsp;
                    .user-view__form-container
                        h2.heading-secondary.ma-bt-md Đổi mật khẩu
                        form.form.form-user-settings
                            .form__group
                                label.form__label(for='password-current') Mật khẩu cũ
                                input#password-current.form__input(type='password', placeholder='••••••••', required, minlength='8')
                            .form__group
                                label.form__label(for='password') Mật khẩu mới
                                input#password.form__input(type='password', placeholder='••••••••', required, minlength='8')
                            .form__group.ma-bt-lg
                                label.form__label(for='password-confirm') Nhập lại mật khẩu mới
                                input#password-confirm.form__input(type='password', placeholder='••••••••', required, minlength='8')
                            .form__group.right
                                button.btn.btn--small.btn--green.btn__save-password Lưu mật khẩu

    script(src='https://cdnjs.cloudflare.com/ajax/libs/axios/1.6.8/axios.min.js')
    script(src='/script/login.js') 
    script(src='/script/logout.js') 
    script(src='/script/updateAccount.js') 